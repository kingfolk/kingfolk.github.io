{"version":3,"sources":["webpack:///./pages/home/sharedMatting/index.js","webpack:///./pages/home/sharedMatting/shared.js","webpack:///./~/babel-runtime/core-js/object/keys.js","webpack:///./~/babel-runtime/~/core-js/library/fn/object/keys.js","webpack:///./~/babel-runtime/~/core-js/library/modules/es6.object.keys.js","webpack:///./pages/home/sharedMatting/styles.css","webpack:///./~/igloo-ext/igloo.js","webpack:///./~/react-dropzone/dist/index.js","webpack:///./pages/home/sharedMatting/styles.css?0d91","webpack:///./pages/home/sharedMatting/shaders/drawCanvas.frag.glsl","webpack:///./pages/home/sharedMatting/shaders/expandKnown.frag.glsl","webpack:///./pages/home/sharedMatting/shaders/gathering.frag.glsl","webpack:///./pages/home/sharedMatting/shaders/localSmooth.frag.glsl","webpack:///./pages/home/sharedMatting/shaders/quad.vert.glsl","webpack:///./pages/home/sharedMatting/shaders/refinement.frag.glsl"],"names":[],"mappings":"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AAa,0BAA0B,mBAAmB,oBAAoB,GAAG,+BAA+B;;AAE72D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,I;;;;;;;ACjBA;AACA;AACA,aAAW,wCAAwC;AACnD,aAAW,OAAO;AAClB,eAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAU;AACV;AACA;AACA;;AAEA;AACA;AACA,aAAW,OAAO;AAClB,aAAW,SAAS;AACpB,eAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAW,kBAAkB;AAC7B,aAAW,OAAO;AAClB,aAAW,QAAQ;AACnB,eAAa,uBAAuB;AACpC;AACA;AACA;AACA;AACA,uDAAqD;AACrD,mEAAiE;AACjE,OAAK;AACL;AACA;AACA;AACA;AACA,OAAK;AACL;AACA;AACA;;AAEA;AACA,aAAW,OAAO;AAClB,eAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA,aAAW,EAAE;AACb,eAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB,aAAW,SAAS;AACpB,eAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAW,4BAA4B;AACvC,aAAW,OAAO;AAClB,eAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAW,4BAA4B;AACvC,aAAW,OAAO;AAClB,eAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAW,eAAe;AAC1B,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB,aAAW,OAAO,aAAa,uCAAuC,MAAM;AAC5E,eAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAW,cAAc;AACzB,eAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAW,sBAAsB;AACjC,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB,eAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,eAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAW,OAAO;AAClB,aAAW,6BAA6B;AACxC,aAAW,QAAQ;AACnB,eAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA,OAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,WAAS;AACT;AACA;AACA,eAAa;AACb;AACA;AACA,WAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAW,OAAO;AAClB,aAAW,sBAAsB;AACjC,aAAW,QAAQ;AACnB,eAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAa,cAAc;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAW,OAAO;AAClB,aAAW,YAAY;AACvB,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB,eAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA,OAAK;AACL,yDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB,eAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA,OAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,eAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAW,sBAAsB;AACjC,aAAW,OAAO;AAClB,eAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAW,4BAA4B;AACvC,aAAW,OAAO;AAClB,eAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAW,sBAAsB;AACjC,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB,eAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAW,OAAO;AAClB,eAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB,eAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,aAAW,qCAAqC;AAChD,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB,eAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAW,qCAAqC;AAChD,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB,eAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAW,qCAAqC;AAChD,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB,eAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAW,sBAAsB;AACjC,aAAW,iBAAiB;AAC5B,eAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAW,cAAc;AACzB,eAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAW,cAAc;AACzB,eAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAK;;AAEL;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA,aAAW,OAAO;AAClB,aAAW,OAAO;AAClB,eAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AClkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAC;AACD,sCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAU;AACV;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAE;;AAEF,sDAAoD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE/P,mCAAiC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEljB;;AAEA;;AAEA;;AAEA;;AAEA,yCAAuC,uCAAuC,gBAAgB;;AAE9F,iDAA+C,iBAAiB,qBAAqB,oCAAoC,6DAA6D,oBAAoB,EAAE,eAAe;;AAE3N,oDAAkD,0CAA0C,0DAA0D,EAAE;;AAExJ,oDAAkD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE/O,6CAA2C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH,EAAE;;AAE/e;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,MAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,UAAQ;;AAER;AACA;AACA;AACA;AACA,MAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,MAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAQ;;AAER;AACA;AACA;AACA;AACA,MAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,UAAQ;;AAER;AACA;AACA;;AAEA,wBAAsB,SAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAQ;AACR;AACA;AACA;AACA;AACA;AACA,MAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,MAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA,UAAQ;AACR;AACA,MAAI;AACJ;AACA;AACA;AACA;AACA;AACA,MAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qCAAmC;AACnC,UAAQ;AACR,qCAAmC;AACnC,UAAQ;AACR,qCAAmC;AACnC;;AAEA;AACA;AACA;AACA,mBAAiB,kBAAkB;AACnC;AACA;AACA;AACA,YAAU;AACV;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mCAAiC;AACjC;AACA;AACA,UAAQ;;AAER;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","file":"2.js?c2ac354a4a00c9a5d7da","sourcesContent":["import React, {Component, PropTypes} from 'react';\nimport Layout from '../../../components/Layout';\nimport Dropzone from 'react-dropzone'\nimport SharedGL from './shared.js'\nimport s from './styles.css';\n\nclass ImageDropZone extends Component {\n  onDrop(files) {\n    this.props.onDrop(files[0]);\n  }\n  render() {\n    return (\n      <Dropzone onDrop={this.onDrop.bind(this)}>\n        <div className={s['middle-align']}>\n          <span className={s['align-helper']}></span>\n          {\n            this.props.fileUrl ?\n            (<img className={s['fill-box']} src={this.props.fileUrl} />)\n            : (<span className={s['fill-box']}>{this.props.placeHolder}</span>)\n          }\n        </div>\n      </Dropzone>\n    );\n  }\n}\n\nImageDropZone.propTypes = {\n  onDrop: PropTypes.func.isRequired,\n  fileUrl: PropTypes.string,\n  placeHolder: PropTypes.string\n};\n\n\nclass Page extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      image: {preview:null},\n      trimap: {preview:null}\n    };\n  }\n\n  componentDidMount() {\n    document.title = 'shared matting';\n\n    let canvas = document.getElementById('matting-canvas');\n    this.runner = new SharedGL(canvas);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextState.image != this.state.image\n      || nextState.trimap != this.state.trimap;\n  }\n\n  render() {\n    return (\n      <Layout>\n        <div id={s['container']}>\n          <div>\n            Can download test data from <a href=\"http://www.alphamatting.com/datasets.php\">http://www.alphamatting.com/datasets.php</a>\n          </div>\n          <br/>\n          <div id={s['left-panel']}>\n            <div id={s['image-box']}>\n              <ImageDropZone\n                placeHolder=\"Drop Image Here\"\n                file={this.state.image.preview}\n                onDrop={this.onDropImage.bind(this)}\n              />\n            </div>\n            <div id={s['image-box']}>\n              <ImageDropZone\n                placeHolder=\"Drop Trimap Here\"\n                file={this.state.trimap.preview}\n                onDrop={this.onDropTrimap.bind(this)}\n              />\n            </div>\n            <div id={s['image-box']}>\n              <button\n                className='mdl-button mdl-js-button mdl-button--raised'\n                type='button'\n                onClick={this.matting.bind(this)}>\n                matting\n              </button>\n            </div>\n          </div>\n          <div id={s['right-content']}>\n            <div className={s['square']}>\n              <canvas id='matting-canvas'\n                width={700}\n                height={700}\n              />\n            </div>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n\n  matting() {\n\n    let img = new Image();\n    img.src = this.state.image.preview ;\n    img.onload = () => {\n      let canvas = document.getElementById('matting-canvas');\n      let s = this.getScale(canvas.width, canvas.height, img.naturalWidth, img.naturalHeight);\n      img.style.display = 'none';\n\n      this.runner.run(s);\n    }\n\n  }\n\n  onDropImage(file) {\n    this.setState({\n      image: file\n    })\n    this.runner.setImage(file.preview);\n  }\n\n  onDropTrimap(file) {\n    this.setState({\n      trimap: file\n    })\n    this.runner.setTrimap(file.preview);\n  }\n\n  getScale(cw, ch, iw, ih) {\n    let ot, ol, iw_, ih_, ratio;\n    if (iw / ih > cw / ch) {\n      ratio = cw / iw;\n      iw_ = iw * ratio;\n      ih_ = ih * ratio;\n      ot = (ch - ih_) / 2;\n      ol = 0;\n    }\n    else {\n      ratio = ch / ih;\n      iw_ = iw * ratio;\n      ih_ = ih * ratio;\n      ot = 0;\n      ol = (cw - iw_) / 2;\n    }\n    return {\n      ot,\n      ol,\n      iw: iw_,\n      ih: ih_,\n    }\n  }\n\n}\n\nexport default Page;\n\n\n\n/** WEBPACK FOOTER **\n ** ./pages/home/sharedMatting/index.js\n **/","import Igloo from 'igloo-ext';\n\nimport quadSL from './shaders/quad.vert.glsl';\nimport drawSL from './shaders/drawCanvas.frag.glsl';\nimport expandKnownSL from './shaders/expandKnown.frag.glsl';\nimport gatheringSL from './shaders/gathering.frag.glsl';\nimport refinementSL from './shaders/refinement.frag.glsl';\nimport localSmoothSL from './shaders/localSmooth.frag.glsl';\n\nexport default class Shared {\n  constructor(canvas) {\n    this.viewSize = new Float32Array([canvas.width, canvas.height]);\n    this.igloo = new Igloo(canvas);\n    let gl = this.gl = this.igloo.gl;\n    let ext = this.ext = gl.getExtension('WEBGL_draw_buffers');\n    if (!gl) {\n      alert('Could not initialize WebGL!');\n      throw new Error('No WebGL');\n    }\n    if (!ext) {\n      alert('Could not initialize WebGL Ext!');\n      throw new Error('No WEBGL_draw_buffers');\n    }\n    gl.disable(gl.DEPTH_TEST);\n\n    this.textures = this.textures || {};\n  }\n  setImage(oriUrl) {\n    this.loadImage(oriUrl, (img) => {\n      let gl = this.gl;\n      this.textures.ori = this.igloo.texture(img, gl.RGBA, gl.CLAMP_TO_EDGE, gl.NEAREST)\n      this.stateSize = new Float32Array([img.naturalWidth, img.naturalHeight]);\n      let maxPixels = 640000;\n      if (this.stateSize[0] * this.stateSize[1] > maxPixels) {\n        let ratio = Math.sqrt(maxPixels / (this.stateSize[0] * this.stateSize[1]) );\n        this.stateSize[0] = ratio * this.stateSize[0];\n        this.stateSize[1] = ratio * this.stateSize[1];\n      }\n    })\n  }\n  setTrimap(triUrl) {\n    this.loadImage(triUrl, (img) => {\n      let gl = this.gl;\n      this.textures.tri = this.igloo.texture(img, gl.RGBA, gl.CLAMP_TO_EDGE, gl.NEAREST);\n    })\n  }\n  glslSetup() {\n    let igloo = this.igloo,\n      gl = this.gl;\n\n    this.framebuffers = {\n      back: igloo.framebuffer(),\n      refine: igloo.framebuffer(),\n    };\n    this.params = {\n      kI: 10.0,\n      kC: 5.0 / 255.0,\n      kG: 4,\n      searchRange: 500.0\n    }\n\n    this.programs = {\n      copy: igloo.program(quadSL, drawSL),\n      expandKnown: igloo.program(quadSL, expandKnownSL,\n                  this.replacer({kI: this.params.kI})),\n      gathering: igloo.program(quadSL, gatheringSL,\n                  this.replacer({kG: this.params.kG, searchRange: this.params.searchRange})),\n      refinement: igloo.program(quadSL, refinementSL),\n      localSmooth: igloo.program(quadSL, localSmoothSL)\n    };\n    this.buffers = {\n      quad: igloo.array(Igloo.QUAD2)\n    };\n    this.textures = {\n      ...this.textures,\n      triExpand: this.igloo.texture(null, gl.RGBA, gl.CLAMP_TO_EDGE, gl.NEAREST)\n          .blank(this.stateSize[0], this.stateSize[1]),\n      gatherFB: this.igloo.texture(null, gl.RGBA, gl.CLAMP_TO_EDGE, gl.NEAREST)\n          .blank(this.stateSize[0], this.stateSize[1]),\n      gatherFBSigma: this.igloo.texture(null, gl.RGBA, gl.CLAMP_TO_EDGE, gl.NEAREST)\n          .blank(this.stateSize[0], this.stateSize[1]),\n      refineF: this.igloo.texture(null, gl.RGBA, gl.CLAMP_TO_EDGE, gl.NEAREST)\n          .blank(this.stateSize[0], this.stateSize[1]),\n      refineB: this.igloo.texture(null, gl.RGBA, gl.CLAMP_TO_EDGE, gl.NEAREST)\n          .blank(this.stateSize[0], this.stateSize[1]),\n      refineAC: this.igloo.texture(null, gl.RGBA, gl.CLAMP_TO_EDGE, gl.NEAREST)\n          .blank(this.stateSize[0], this.stateSize[1]),\n      alpha: this.igloo.texture(null, gl.RGBA, gl.CLAMP_TO_EDGE, gl.NEAREST)\n          .blank(this.stateSize[0], this.stateSize[1])\n    }\n  }\n  run(canvasScale) {\n    console.log('run shared matting')\n    if (!this.textures.ori || !this.textures.tri) return;\n\n    var t1 = new Date();\n    this.glslSetup();\n    var t2 = new Date();\n    this\n      .expandKnown()\n      .gathering()\n      .refinement()\n      .localSmooth()\n      .draw(canvasScale);\n    var t3 = new Date();\n    console.log(`Setup time: ${t2.getTime() - t1.getTime()}`)\n    console.log(`Render time: ${t3.getTime() - t2.getTime()}`)\n  }\n  expandKnown() {\n    let gl = this.gl;\n    this.framebuffers.back.attach(this.textures.triExpand);\n    this.textures.ori.bind(0);\n    this.textures.tri.bind(1);\n    // this.textures.triTest.bind(1);\n    gl.viewport(0, 0, this.stateSize[0], this.stateSize[1]);\n\n    this.programs.expandKnown.use()\n      .attrib('quad', this.buffers.quad, 2)\n      .uniformi('oriState', 0)\n      .uniformi('triState', 1)\n      .uniform('kC', this.params.kC)\n      .uniform('scale', this.stateSize)\n      .draw(gl.TRIANGLE_STRIP, 4);\n\n    return this;\n  }\n  gathering(mode) {\n    let gl = this.gl;\n\n    if (mode == 'test') {\n      this.framebuffers.back.attach(this.textures.alpha);\n    }\n    else {\n      this.framebuffers.back.attach(this.textures.gatherFB);\n    }\n    if (gl.checkFramebufferStatus(gl.FRAMEBUFFER) !== gl.FRAMEBUFFER_COMPLETE) {\n      alert('Could not initialize Buffer array!');\n      throw new Error('No WebGL');\n    }\n\n    this.textures.ori.bind(0);\n    // this.textures.triExpand.bind(1);\n    this.textures.triExpand.bind(1);\n    gl.viewport(0, 0, this.stateSize[0], this.stateSize[1]);\n\n    this.programs.gathering.use()\n      .attrib('quad', this.buffers.quad, 2)\n      .uniformi('oriState', 0)\n      .uniformi('triState', 1)\n      .uniformi('isTest', mode == 'test' ? 1 : 0)\n      .uniformi('kG', this.params.kG)\n      .uniform('scale', this.stateSize)\n      .draw(gl.TRIANGLE_STRIP, 4);\n\n    return this;\n  }\n  refinement(mode) {\n    let gl = this.gl;\n    let arr = [];\n    if (mode == 'test') { arr = [this.textures.alpha]; }\n    else { arr = [this.textures.refineF, this.textures.refineB, this.textures.refineAC]; }\n\n    this.framebuffers.refine.attachArr(arr);\n    if (gl.checkFramebufferStatus(gl.FRAMEBUFFER) !== gl.FRAMEBUFFER_COMPLETE) {\n      alert('Could not initialize Buffer array!');\n      throw new Error('No WebGL');\n    }\n    this.textures.ori.bind(0);\n    // this.textures.triExpand.bind(1);\n    this.textures.triExpand.bind(1);\n    this.textures.gatherFB.bind(2);\n    this.textures.gatherFBSigma.bind(3);\n    gl.viewport(0, 0, this.stateSize[0], this.stateSize[1]);\n\n    this.programs.refinement.use()\n      .attrib('quad', this.buffers.quad, 2)\n      .uniformi('oriState', 0)\n      .uniformi('triState', 1)\n      .uniformi('fbState', 2)\n      .uniformi('fbSigmaState', 3)\n      .uniformi('isTest', mode == 'test' ? 1 : 0)\n      .uniform('scale', this.stateSize)\n      .draw(gl.TRIANGLE_STRIP, 4);\n\n    return this;\n  }\n  localSmooth() {\n    let gl = this.gl;\n    this.framebuffers.back.attach(this.textures.alpha);\n\n    this.textures.ori.bind(0);\n    // this.textures.triExpand.bind(1);\n    this.textures.triExpand.bind(1);\n    this.textures.refineAC.bind(2);\n    this.textures.refineF.bind(3);\n    this.textures.refineB.bind(4);\n    gl.viewport(0, 0, this.stateSize[0], this.stateSize[1]);\n\n    this.programs.localSmooth.use()\n      .attrib('quad', this.buffers.quad, 2)\n      .uniformi('oriState', 0)\n      .uniformi('triState', 1)\n      .uniformi('acState', 2)\n      .uniformi('foreState', 3)\n      .uniformi('backState', 4)\n      .uniform('scale', this.stateSize)\n      .draw(gl.TRIANGLE_STRIP, 4);\n\n    return this;\n  }\n  draw(canvasScale) {\n    let gl = this.gl;\n    this.igloo.defaultFramebuffer.bind();\n    this.textures.alpha.bind(0);\n    gl.viewport(0, 0, this.viewSize[0], this.viewSize[1]);\n\n    let offset = new Float32Array([canvasScale.ol, canvasScale.ot]);\n    this.programs.copy.use()\n      .attrib('quad', this.buffers.quad, 2)\n      .uniformi('state', 0)\n      .uniform('scale', this.viewSize)\n      .uniform('offset', offset)\n      .draw(gl.TRIANGLE_STRIP, 4);\n\n    return this;\n  }\n\n  replacer(map) {\n    var keys = Object.keys(map);\n    return function(source) {\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i], regex = new RegExp('%%' + key + '%%', 'g');\n            source = source.replace(regex, map[key]);\n        }\n        return source;\n    };\n  }\n\n  loadImage(image, callback) {\n    let img = image;\n    if (typeof img === 'string') {\n      img = new Image();\n      img.src = image;\n    }\n    img.onload = () => {\n      img.style.display = 'none';\n      if (callback) {\n        callback(img);\n      }\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./pages/home/sharedMatting/shared.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/keys.js\n ** module id = 507\n ** module chunks = 2\n **/","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/fn/object/keys.js\n ** module id = 520\n ** module chunks = 2\n **/","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object')\n  , $keys    = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function(){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/es6.object.keys.js\n ** module id = 556\n ** module chunks = 2\n **/","exports = module.exports = require(\"./../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".styles_fill-box_was {\\n  max-width: 100%;\\n  max-height: 100%;\\n  vertical-align: middle;\\n}\\n\\n.styles_middle-align_740 {\\n  text-align: center;\\n  height: 100%;\\n  widht: 100%;\\n}\\n\\n.styles_align-helper_2qw {\\n  display: inline-block;\\n  height: 100%;\\n  vertical-align: middle;\\n}\\n\\n#styles_container_1GJ {\\n  display: table;\\n  margin: 0 auto;\\n  padding-top: 80px;\\n  padding-bottom: 80px;\\n}\\n\\n#styles_image-box_2hn {\\n  padding-top: 20px;\\n  padding-bottom: 20px;\\n}\\n\\n#styles_left-panel_9Oa {\\n  width: 250px;\\n  margin-left: 30px;\\n  float:left;\\n}\\n\\n#styles_right-content_jpr {\\n  width: 700px;\\n  float:left;\\n}\\n\\n.styles_square_1rV {\\n    background: #acacac;\\n    width: 700px;\\n    height: 700px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/./pages/home/sharedMatting/styles.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,gBAAgB;EAChB,iBAAiB;EACjB,uBAAuB;CACxB;;AAED;EACE,mBAAmB;EACnB,aAAa;EACb,YAAY;CACb;;AAED;EACE,sBAAsB;EACtB,aAAa;EACb,uBAAuB;CACxB;;AAED;EACE,eAAe;EACf,eAAe;EACf,kBAAkB;EAClB,qBAAqB;CACtB;;AAED;EACE,kBAAkB;EAClB,qBAAqB;CACtB;;AAED;EACE,aAAa;EACb,kBAAkB;EAClB,WAAW;CACZ;;AAED;EACE,aAAa;EACb,WAAW;CACZ;;AAED;IACI,oBAAoB;IACpB,aAAa;IACb,cAAc;CACjB\",\"file\":\"styles.css\",\"sourcesContent\":[\".fill-box {\\n  max-width: 100%;\\n  max-height: 100%;\\n  vertical-align: middle;\\n}\\n\\n.middle-align {\\n  text-align: center;\\n  height: 100%;\\n  widht: 100%;\\n}\\n\\n.align-helper {\\n  display: inline-block;\\n  height: 100%;\\n  vertical-align: middle;\\n}\\n\\n#container {\\n  display: table;\\n  margin: 0 auto;\\n  padding-top: 80px;\\n  padding-bottom: 80px;\\n}\\n\\n#image-box {\\n  padding-top: 20px;\\n  padding-bottom: 20px;\\n}\\n\\n#left-panel {\\n  width: 250px;\\n  margin-left: 30px;\\n  float:left;\\n}\\n\\n#right-content {\\n  width: 700px;\\n  float:left;\\n}\\n\\n.square {\\n    background: #acacac;\\n    width: 700px;\\n    height: 700px;\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\nexports.locals = {\n\t\"fill-box\": \"styles_fill-box_was\",\n\t\"middle-align\": \"styles_middle-align_740\",\n\t\"align-helper\": \"styles_align-helper_2qw\",\n\t\"container\": \"styles_container_1GJ\",\n\t\"image-box\": \"styles_image-box_2hn\",\n\t\"left-panel\": \"styles_left-panel_9Oa\",\n\t\"right-content\": \"styles_right-content_jpr\",\n\t\"square\": \"styles_square_1rV\"\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader?{\"sourceMap\":true,\"modules\":true,\"localIdentName\":\"[name]_[local]_[hash:base64:3]\",\"minimize\":false}!./~/postcss-loader!./pages/home/sharedMatting/styles.css\n ** module id = 568\n ** module chunks = 2\n **/","/**\n * Wrap WebGLRenderingContext objects with useful behavior.\n * @param {WebGLRenderingContext|HTMLCanvasElement} gl\n * @param {Object} [options] to pass to getContext()\n * @returns {Igloo}\n * @namespace\n */\nfunction Igloo(gl, options) {\n    var canvas;\n    if (gl instanceof HTMLCanvasElement) {\n        canvas = gl;\n        gl = Igloo.getContext(gl, options);\n    } else {\n        canvas = gl.canvas;\n    }\n    this.gl = gl;\n    this.canvas = canvas;\n    this.defaultFramebuffer = new Igloo.Framebuffer(gl, null);\n}\n\n/**\n * To be used in a vec2 GL_TRIANGLE_STRIP draw.\n * @type {Float32Array}\n * @constant\n */\nIgloo.QUAD2 = new Float32Array([-1, -1, 1, -1, -1, 1, 1, 1]);\n\n/**\n * Asynchronously or synchronously fetch data from the server.\n * @param {string} url\n * @param {Function} [callback] if provided, call is asynchronous\n * @returns {string}\n */\nIgloo.fetch = function(url, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, Boolean(callback));\n    if (callback != null) {\n        xhr.onload = function() {\n            callback(xhr.responseText);\n        };\n    }\n    xhr.send();\n    return xhr.responseText;\n};\n\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {Object} [options] to pass to getContext()\n * @param {boolean} [noerror] If true, return null instead of throwing\n * @returns {?WebGLRenderingContext} a WebGL rendering context.\n */\nIgloo.getContext = function(canvas, options, noerror) {\n    var gl;\n    try {\n        gl = canvas.getContext('webgl', options || {}) ||\n            canvas.getContext('experimental-webgl', options || {});\n    } catch (e) {\n        gl = null;\n    }\n    if (gl == null && !noerror) {\n        throw new Error('Could not create WebGL context.');\n    } else {\n        return gl;\n    }\n};\n\n/**\n * @param {string} string\n * @returns {boolean} True if the string looks like a URL\n */\nIgloo.looksLikeURL = function(string) {\n    return /\\s/.exec(string) == null;\n};\n\n/**\n * @param {*} object\n * @returns {boolean} true if object is an array or typed array\n */\nIgloo.isArray = function(object) {\n    var name = Object.prototype.toString.apply(object, []),\n        re = / (Float(32|64)|Int(16|32|8)|Uint(16|32|8(Clamped)?))?Array]$/;\n    return re.exec(name) != null;\n};\n\n/**\n * Creates a program from a program configuration.\n *\n * @param {string} vertex URL or source of the vertex shader\n * @param {string} fragment URL or source of the fragment shader\n * @param {Function} [transform] Transforms the shaders before compilation\n * @returns {Igloo.Program}\n */\nIgloo.prototype.program = function(vertex, fragment, transform) {\n    if (Igloo.looksLikeURL(vertex)) vertex = Igloo.fetch(vertex);\n    if (Igloo.looksLikeURL(fragment)) fragment = Igloo.fetch(fragment);\n    if (transform != null) {\n        vertex = transform(vertex);\n        fragment = transform(fragment);\n    }\n    return new Igloo.Program(this.gl, vertex, fragment);\n};\n\n/**\n * Create a new GL_ARRAY_BUFFER with optional data.\n * @param {ArrayBuffer|ArrayBufferView} [data]\n * @param {GLenum} [usage]\n * @returns {Igloo.Buffer}\n */\nIgloo.prototype.array = function(data, usage) {\n    var gl = this.gl,\n        buffer = new Igloo.Buffer(gl, gl.ARRAY_BUFFER);\n    if (data != null) {\n        buffer.update(data, usage == null ? gl.STATIC_DRAW : usage);\n    }\n    return buffer;\n};\n\n/**\n * Create a new GL_ELEMENT_ARRAY_BUFFER with optional data.\n * @param {ArrayBuffer|ArrayBufferView} [data]\n * @param {GLenum} [usage]\n * @returns {Igloo.Buffer}\n */\nIgloo.prototype.elements = function(data, usage) {\n    var gl = this.gl,\n        buffer = new Igloo.Buffer(gl, gl.ELEMENT_ARRAY_BUFFER);\n    if (data != null) {\n        buffer.update(data, usage == null ? gl.STATIC_DRAW : usage);\n    }\n    return buffer;\n};\n\n/**\n * @param {TexImageSource} [source]\n * @param {GLenum} [format=GL_RGBA]\n * @param {GLenum} [wrap=GL_CLAMP_TO_EDGE]\n * @param {GLenum} [filter=GL_LINEAR]\n * @param {GLenum} [type=UNSIGNED_BYTE]\n * @param {Object} [options = {type: 'ArrayBufferView', width, height} || {}]\n * @returns {Igloo.Texture}\n */\nIgloo.prototype.texture = function(source, format, wrap, filter, type, options) {\n    var texture = new Igloo.Texture(this.gl, format, wrap, filter, type);\n    if (source != null) {\n        if (options && options.type === 'ArrayBufferView') {\n          texture.set(source, options.width, options.height);\n        }\n        else {\n          texture.set(source);\n        }\n    }\n    return texture;\n};\n\n/**\n * @param {Igloo.Texture} [texture]\n * @returns {Igloo.Framebuffer}\n */\nIgloo.prototype.framebuffer = function(texture) {\n    var framebuffer = new Igloo.Framebuffer(this.gl);\n    if (texture != null) framebuffer.attach(texture);\n    return framebuffer;\n};\n\n/**\n * Fluent WebGLProgram wrapper for managing variables and data. The\n * constructor compiles and links a program from a pair of shaders.\n * Throws an exception if compiling or linking fails.\n * @param {WebGLRenderingContext} gl\n * @param {string} vertex Shader source\n * @param {string} fragment Shader source\n * @constructor\n */\nIgloo.Program = function(gl, vertex, fragment) {\n    this.gl = gl;\n    var p = this.program = gl.createProgram();\n    gl.attachShader(p, this.makeShader(gl.VERTEX_SHADER, vertex));\n    gl.attachShader(p, this.makeShader(gl.FRAGMENT_SHADER, fragment));\n    gl.linkProgram(p);\n    if (!gl.getProgramParameter(p, gl.LINK_STATUS)) {\n        throw new Error(gl.getProgramInfoLog(p));\n    }\n    this.vars = {};\n};\n\n/**\n * Compile a shader from source.\n * @param {number} type\n * @param {string} source\n * @returns {WebGLShader}\n */\nIgloo.Program.prototype.makeShader = function(type, source) {\n    var gl = this.gl;\n    var shader = gl.createShader(type);\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n    if (gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        return shader;\n    } else {\n        throw new Error(gl.getShaderInfoLog(shader));\n    }\n};\n\n/**\n * Tell WebGL to use this program right now.\n * @returns {Igloo.Program} this\n */\nIgloo.Program.prototype.use = function() {\n    this.gl.useProgram(this.program);\n    return this;\n};\n\n/**\n * Declare/set a uniform or set a uniform's data.\n * @param {string} name uniform variable name\n * @param {number|Array|ArrayBufferView} [value]\n * @param {boolean} [i] if true use the integer version\n * @returns {Igloo.Program} this\n */\nIgloo.Program.prototype.uniform = function(name, value, i, dim) {\n    if (value == null) {\n        this.vars[name] = this.gl.getUniformLocation(this.program, name);\n    } else {\n        if (this.vars[name] == null) this.uniform(name);\n        var v = this.vars[name];\n        if (Igloo.isArray(value)) {\n            var l = dim ? dim : value.length;\n            var method = 'uniform' + l + (i ? 'i' : 'f') + 'v';\n            this.gl[method](v, value);\n        } else if (typeof value === 'number' || typeof value === 'boolean') {\n            if (i) {\n                this.gl.uniform1i(v, value);\n            } else {\n                this.gl.uniform1f(v, value);\n            }\n        } else {\n            throw new Error('Invalid uniform value: ' + value);\n        }\n    }\n    return this;\n};\n\n/**\n * Set a uniform's data to a specific matrix.\n * @param {string} name uniform variable name\n * @param {Array|ArrayBufferView} matrix\n * @param {boolean} [transpose=false]\n * @returns {Igloo.Program} this\n */\nIgloo.Program.prototype.matrix = function(name, matrix, transpose) {\n    if (this.vars[name] == null) this.uniform(name);\n    var method = 'uniformMatrix' + Math.sqrt(matrix.length) + 'fv';\n    this.gl[method](this.vars[name], Boolean(transpose), matrix);\n    return this;\n};\n\n/**\n * Like the uniform() method, but using integers.\n * @returns {Igloo.Program} this\n */\nIgloo.Program.prototype.uniformi = function(name, value) {\n    return this.uniform(name, value, true);\n};\n\n/**\n * Declare an attrib or set an attrib's buffer.\n * @param {string} name attrib variable name\n * @param {WebGLBuffer} [value]\n * @param {number} [size] element size (required if value is provided)\n * @param {number} [stride=0]\n * @returns {Igloo.Program} this\n */\nIgloo.Program.prototype.attrib = function(name, value, size, stride) {\n    var gl = this.gl;\n    if (value == null) {\n        this.vars[name] = gl.getAttribLocation(this.program, name);\n    } else {\n        if (this.vars[name] == null) this.attrib(name); // get location\n        value.bind();\n        gl.enableVertexAttribArray(this.vars[name]);\n        gl.vertexAttribPointer(this.vars[name], size, gl.FLOAT,\n                               false, stride == null ? 0 : stride, 0);\n    }\n    return this;\n};\n\n/**\n * Call glDrawArrays or glDrawElements with this program.\n * @param {number} mode\n * @param {number} count the number of vertex attribs to render\n * @param {GLenum} [type] use glDrawElements of this type\n * @returns {Igloo.Program} this\n */\nIgloo.Program.prototype.draw = function(mode, count, type) {\n    var gl = this.gl;\n    if (type == null) {\n        gl.drawArrays(mode, 0, count);\n    } else {\n        gl.drawElements(mode, count, type, 0);\n    }\n    if (gl.getError() !== gl.NO_ERROR) {\n        throw new Error('WebGL rendering error');\n    }\n    return this;\n};\n\n\n/**\n * Disables all attribs from this program.\n * @returns {Igloo.Program} this\n */\nIgloo.Program.prototype.disable = function() {\n    for (var attrib in this.vars) {\n        var location = this.vars[attrib];\n        if (this.vars.hasOwnProperty(attrib)) {\n            if (typeof location === 'number') {\n                this.gl.disableVertexAttribArray(location);\n            }\n        }\n    }\n    return this;\n};\n\n/**\n * Fluent WebGLBuffer wrapper.\n * @param {WebGLRenderingContext} gl\n * @param {GLenum} [target] either GL_ARRAY_BUFFER or GL_ELEMENT_ARRAY_BUFFER\n * @returns {WebGLProgram}\n * @constructor\n */\nIgloo.Buffer = function(gl, target) {\n    this.gl = gl;\n    this.buffer = gl.createBuffer();\n    this.target = (target == null ? gl.ARRAY_BUFFER : target);\n    this.size = -1;\n};\n\n/**\n * Binds this buffer to ARRAY_BUFFER.\n * @returns {Igloo.Buffer} this\n */\nIgloo.Buffer.prototype.bind = function() {\n    this.gl.bindBuffer(this.target, this.buffer);\n    return this;\n};\n\n/**\n * @param\n * @param {ArrayBuffer|ArrayBufferView} data\n * @param {GLenum} [usage]\n * @returns {Igloo.Buffer} this\n */\nIgloo.Buffer.prototype.update = function(data, usage) {\n    var gl = this.gl;\n    if (data instanceof Array) {\n        data = new Float32Array(data);\n    }\n    usage = usage == null ? gl.DYNAMIC_DRAW : usage;\n    this.bind();\n    if (this.size !== data.byteLength) {\n        gl.bufferData(this.target, data, usage);\n        this.size = data.byteLength;\n    } else {\n        gl.bufferSubData(this.target, 0, data);\n    }\n    return this;\n};\n\n/**\n * Create a new texture, optionally filled blank.\n * @param {WebGLRenderingContext} gl\n * @param {GLenum} [format=GL_RGBA]\n * @param {GLenum} [wrap=GL_CLAMP_TO_EDGE]\n * @param {GLenum} [filter=GL_LINEAR]\n * @param {GLenum} [type=UNSIGNED_BYTE]\n * @returns {Igloo.Texture}\n */\nIgloo.Texture = function(gl, format, wrap, filter, type) {\n    this.gl = gl;\n    var texture = this.texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    wrap = wrap == null ? gl.CLAMP_TO_EDGE : wrap;\n    filter = filter == null ? gl.LINEAR : filter;\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrap);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrap);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, filter);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, filter);\n    this.format = format == null ? gl.RGBA : format;\n    this.type = type == null ? gl.UNSIGNED_BYTE : type;\n};\n\n/**\n * @param {number} [unit] active texture unit to bind\n * @returns {Igloo.Texture}\n */\nIgloo.Texture.prototype.bind = function(unit) {\n    var gl = this.gl;\n    if (unit != null) {\n        gl.activeTexture(gl.TEXTURE0 + unit);\n    }\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    return this;\n};\n\n/**\n * Set texture to particular size, filled with vec4(0, 0, 0, 1).\n * @param {number} width\n * @param {number} height\n * @returns {Igloo.Texture}\n */\nIgloo.Texture.prototype.blank = function(width, height) {\n    var gl = this.gl;\n    this.bind();\n    gl.texImage2D(gl.TEXTURE_2D, 0, this.format, width, height,\n                  0, this.format, this.type, null);\n    return this;\n};\n\n\n/**\n * Set the texture to a particular image.\n * @param {Array|ArrayBufferView|TexImageSource} source\n * @param {number} [width]\n * @param {number} [height]\n * @returns {Igloo.Texture}\n */\nIgloo.Texture.prototype.set = function(source, width, height) {\n    var gl = this.gl;\n    this.bind();\n    if (source instanceof Array) {\n        if (this.type == gl.FLOAT) {\n            source = new Float32Array(source);\n        } else {\n            source = new Uint8Array(source);\n        }\n    }\n    if (width != null || height != null) {\n        gl.texImage2D(gl.TEXTURE_2D, 0, this.format,\n                      width, height, 0, this.format,\n                      this.type, source);\n    } else {\n        gl.texImage2D(gl.TEXTURE_2D, 0, this.format,\n                      this.format, this.type, source);\n    }\n    return this;\n};\n\n/**\n * Set part of the texture to a particular image.\n * @param {Array|ArrayBufferView|TexImageSource} source\n * @param {number} xoff\n * @param {number} yoff\n * @param {number} [width]\n * @param {number} [height]\n * @returns {Igloo.Texture}\n */\nIgloo.Texture.prototype.subset = function(source, xoff, yoff, width, height) {\n    var gl = this.gl;\n    this.bind();\n    if (source instanceof Array) {\n        if (this.type == gl.FLOAT) {\n            source = new Float32Array(source);\n        } else {\n            source = new Uint8Array(source);\n        }\n    }\n    if (width != null || height != null) {\n        gl.texSubImage2D(gl.TEXTURE_2D, 0, xoff, yoff,\n                         width, height,\n                         this.format, this.type, source);\n    } else {\n        gl.texSubImage2D(gl.TEXTURE_2D, 0, xoff, yoff,\n                         this.format, this.type, source);\n    }\n    return this;\n};\n\n/**\n * Copy part/all of the current framebuffer to this image.\n * @param {Array|ArrayBufferView|TexImageSource} source\n * @param {number} x\n * @param {number} y\n * @param {number} width\n * @param {number} height\n * @returns {Igloo.Texture}\n */\nIgloo.Texture.prototype.copy = function(x, y, width, height) {\n    var gl = this.gl;\n    gl.copyTexImage2D(gl.TEXTURE_2D, 0, this.format, x, y, width, height, 0);\n    return this;\n};\n\n/**\n * @param {WebGLRenderingContext} gl\n * @param {WebGLFramebuffer} [framebuffer] to be wrapped (null for default)\n * @returns {Igloo.Framebuffer}\n */\nIgloo.Framebuffer = function(gl, framebuffer) {\n    this.gl = gl;\n    this.framebuffer =\n        arguments.length == 2 ? framebuffer : gl.createFramebuffer();\n    this.renderbuffer = null;\n};\n\n/**\n * @returns {Igloo.Framebuffer}\n */\nIgloo.Framebuffer.prototype.bind = function() {\n    this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.framebuffer);\n    return this;\n};\n\n/**\n * @returns {Igloo.Framebuffer}\n */\nIgloo.Framebuffer.prototype.unbind = function() {\n    this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n    return this;\n};\n\n/**\n * @param {Igloo.Texture} texture\n * @returns {Igloo.Framebuffer}\n */\nIgloo.Framebuffer.prototype.attach = function(texture) {\n    var gl = this.gl;\n    this.bind();\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0,\n                            gl.TEXTURE_2D, texture.texture, 0);\n    return this;\n};\n\n/**\n * @param {Igloo.Texture} array of textures\n * @returns {Igloo.Framebuffer}\n */\nIgloo.Framebuffer.prototype.attachArr = function(textures) {\n    var gl = this.gl;\n    var ext = gl.getExtension('WEBGL_draw_buffers');\n    var attachIdx = 0;\n    var arr = [];\n\n    this.bind();\n    textures.forEach(function(texture) {\n      var attachIdxStr = 'COLOR_ATTACHMENT' + attachIdx +'_WEBGL';\n      attachIdx += 1;\n      arr.push(ext[attachIdxStr]);\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, ext[attachIdxStr],\n                              gl.TEXTURE_2D, texture.texture, 0);\n    });\n\n    console.log('attachArr');\n    console.log(arr);\n    ext.drawBuffersWEBGL(arr);\n\n    return this;\n};\n\n\n/**\n * Attach a renderbuffer as a depth buffer for depth-tested rendering.\n * @param {number} width\n * @param {number} height\n * @returns {Igloo.Framebuffer}\n */\nIgloo.Framebuffer.prototype.attachDepth = function(width, height) {\n    var gl = this.gl;\n    this.bind();\n    if (this.renderbuffer == null) {\n        this.renderbuffer = gl.createRenderbuffer();\n        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16,\n                               width, height);\n        gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT,\n                                   gl.RENDERBUFFER, this.renderbuffer);\n    }\n    return this;\n};\n\nmodule.exports = Igloo;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/igloo-ext/igloo.js\n ** module id = 587\n ** module chunks = 2\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Dropzone\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"Dropzone\"] = factory(root[\"react\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _attrAccept = __webpack_require__(1);\n\t\n\tvar _attrAccept2 = _interopRequireDefault(_attrAccept);\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* eslint prefer-template: 0 */\n\t\n\tvar supportMultiple = typeof document !== 'undefined' && document && document.createElement ? 'multiple' in document.createElement('input') : true;\n\t\n\tvar Dropzone = function (_React$Component) {\n\t  _inherits(Dropzone, _React$Component);\n\t\n\t  function Dropzone(props, context) {\n\t    _classCallCheck(this, Dropzone);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Dropzone).call(this, props, context));\n\t\n\t    _this.onClick = _this.onClick.bind(_this);\n\t    _this.onDragStart = _this.onDragStart.bind(_this);\n\t    _this.onDragEnter = _this.onDragEnter.bind(_this);\n\t    _this.onDragLeave = _this.onDragLeave.bind(_this);\n\t    _this.onDragOver = _this.onDragOver.bind(_this);\n\t    _this.onDrop = _this.onDrop.bind(_this);\n\t\n\t    _this.state = {\n\t      isDragActive: false\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Dropzone, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      this.enterCounter = 0;\n\t    }\n\t  }, {\n\t    key: 'onDragStart',\n\t    value: function onDragStart(e) {\n\t      if (this.props.onDragStart) {\n\t        this.props.onDragStart.call(this, e);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'onDragEnter',\n\t    value: function onDragEnter(e) {\n\t      e.preventDefault();\n\t\n\t      // Count the dropzone and any children that are entered.\n\t      ++this.enterCounter;\n\t\n\t      // This is tricky. During the drag even the dataTransfer.files is null\n\t      // But Chrome implements some drag store, which is accesible via dataTransfer.items\n\t      var dataTransferItems = e.dataTransfer && e.dataTransfer.items ? e.dataTransfer.items : [];\n\t\n\t      // Now we need to convert the DataTransferList to Array\n\t      var allFilesAccepted = this.allFilesAccepted(Array.prototype.slice.call(dataTransferItems));\n\t\n\t      this.setState({\n\t        isDragActive: allFilesAccepted,\n\t        isDragReject: !allFilesAccepted\n\t      });\n\t\n\t      if (this.props.onDragEnter) {\n\t        this.props.onDragEnter.call(this, e);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'onDragOver',\n\t    value: function onDragOver(e) {\n\t      e.preventDefault();\n\t      e.stopPropagation();\n\t      return false;\n\t    }\n\t  }, {\n\t    key: 'onDragLeave',\n\t    value: function onDragLeave(e) {\n\t      e.preventDefault();\n\t\n\t      // Only deactivate once the dropzone and all children was left.\n\t      if (--this.enterCounter > 0) {\n\t        return;\n\t      }\n\t\n\t      this.setState({\n\t        isDragActive: false,\n\t        isDragReject: false\n\t      });\n\t\n\t      if (this.props.onDragLeave) {\n\t        this.props.onDragLeave.call(this, e);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'onDrop',\n\t    value: function onDrop(e) {\n\t      e.preventDefault();\n\t\n\t      // Reset the counter along with the drag on a drop.\n\t      this.enterCounter = 0;\n\t\n\t      this.setState({\n\t        isDragActive: false,\n\t        isDragReject: false\n\t      });\n\t\n\t      var droppedFiles = e.dataTransfer ? e.dataTransfer.files : e.target.files;\n\t      var max = this.props.multiple ? droppedFiles.length : Math.min(droppedFiles.length, 1);\n\t      var files = [];\n\t\n\t      for (var i = 0; i < max; i++) {\n\t        var file = droppedFiles[i];\n\t        // We might want to disable the preview creation to support big files\n\t        if (!this.props.disablePreview) {\n\t          file.preview = window.URL.createObjectURL(file);\n\t        }\n\t        files.push(file);\n\t      }\n\t\n\t      if (this.allFilesAccepted(files)) {\n\t        if (this.props.onDrop) {\n\t          this.props.onDrop.call(this, files, e);\n\t        }\n\t\n\t        if (this.props.onDropAccepted) {\n\t          this.props.onDropAccepted.call(this, files, e);\n\t        }\n\t      } else {\n\t        if (this.props.onDropRejected) {\n\t          this.props.onDropRejected.call(this, files, e);\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'onClick',\n\t    value: function onClick() {\n\t      if (!this.props.disableClick) {\n\t        this.open();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'allFilesAccepted',\n\t    value: function allFilesAccepted(files) {\n\t      var _this2 = this;\n\t\n\t      return files.every(function (file) {\n\t        return (0, _attrAccept2.default)(file, _this2.props.accept);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open() {\n\t      this.fileInputEl.value = null;\n\t      this.fileInputEl.click();\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this3 = this;\n\t\n\t      var _props = this.props;\n\t      var accept = _props.accept;\n\t      var activeClassName = _props.activeClassName;\n\t      var inputProps = _props.inputProps;\n\t      var multiple = _props.multiple;\n\t      var name = _props.name;\n\t      var rejectClassName = _props.rejectClassName;\n\t\n\t      var rest = _objectWithoutProperties(_props, ['accept', 'activeClassName', 'inputProps', 'multiple', 'name', 'rejectClassName']);\n\t\n\t      var activeStyle = rest.activeStyle;\n\t      var className = rest.className;\n\t      var rejectStyle = rest.rejectStyle;\n\t      var style = rest.style;\n\t\n\t      var props = _objectWithoutProperties(rest, ['activeStyle', 'className', 'rejectStyle', 'style']);\n\t\n\t      var _state = this.state;\n\t      var isDragActive = _state.isDragActive;\n\t      var isDragReject = _state.isDragReject;\n\t\n\t\n\t      className = className || '';\n\t\n\t      if (isDragActive && activeClassName) {\n\t        className += ' ' + activeClassName;\n\t      }\n\t      if (isDragReject && rejectClassName) {\n\t        className += ' ' + rejectClassName;\n\t      }\n\t\n\t      if (!className && !style && !activeStyle && !rejectStyle) {\n\t        style = {\n\t          width: 200,\n\t          height: 200,\n\t          borderWidth: 2,\n\t          borderColor: '#666',\n\t          borderStyle: 'dashed',\n\t          borderRadius: 5\n\t        };\n\t        activeStyle = {\n\t          borderStyle: 'solid',\n\t          backgroundColor: '#eee'\n\t        };\n\t        rejectStyle = {\n\t          borderStyle: 'solid',\n\t          backgroundColor: '#ffdddd'\n\t        };\n\t      }\n\t\n\t      var appliedStyle = void 0;\n\t      if (activeStyle && isDragActive) {\n\t        appliedStyle = _extends({}, style, activeStyle);\n\t      } else if (rejectStyle && isDragReject) {\n\t        appliedStyle = _extends({}, style, rejectStyle);\n\t      } else {\n\t        appliedStyle = _extends({}, style);\n\t      }\n\t\n\t      var inputAttributes = {\n\t        accept: accept,\n\t        type: 'file',\n\t        style: { display: 'none' },\n\t        multiple: supportMultiple && multiple,\n\t        ref: function ref(el) {\n\t          return _this3.fileInputEl = el;\n\t        }, // eslint-disable-line\n\t        onChange: this.onDrop\n\t      };\n\t\n\t      if (name && name.length) {\n\t        inputAttributes.name = name;\n\t      }\n\t\n\t      // Remove custom properties before passing them to the wrapper div element\n\t      var customProps = ['disablePreview', 'disableClick', 'onDropAccepted', 'onDropRejected'];\n\t      var divProps = _extends({}, props);\n\t      customProps.forEach(function (prop) {\n\t        return delete divProps[prop];\n\t      });\n\t\n\t      return _react2.default.createElement(\n\t        'div',\n\t        _extends({\n\t          className: className,\n\t          style: appliedStyle\n\t        }, divProps /* expand user provided props first so event handlers are never overridden */, {\n\t          onClick: this.onClick,\n\t          onDragStart: this.onDragStart,\n\t          onDragEnter: this.onDragEnter,\n\t          onDragOver: this.onDragOver,\n\t          onDragLeave: this.onDragLeave,\n\t          onDrop: this.onDrop\n\t        }),\n\t        this.props.children,\n\t        _react2.default.createElement('input', _extends({}, inputProps /* expand user provided inputProps first so inputAttributes override them */, inputAttributes))\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Dropzone;\n\t}(_react2.default.Component);\n\t\n\tDropzone.defaultProps = {\n\t  disablePreview: false,\n\t  disableClick: false,\n\t  multiple: true\n\t};\n\t\n\tDropzone.propTypes = {\n\t  // Overriding drop behavior\n\t  onDrop: _react2.default.PropTypes.func,\n\t  onDropAccepted: _react2.default.PropTypes.func,\n\t  onDropRejected: _react2.default.PropTypes.func,\n\t\n\t  // Overriding drag behavior\n\t  onDragStart: _react2.default.PropTypes.func,\n\t  onDragEnter: _react2.default.PropTypes.func,\n\t  onDragLeave: _react2.default.PropTypes.func,\n\t\n\t  children: _react2.default.PropTypes.node, // Contents of the dropzone\n\t  style: _react2.default.PropTypes.object, // CSS styles to apply\n\t  activeStyle: _react2.default.PropTypes.object, // CSS styles to apply when drop will be accepted\n\t  rejectStyle: _react2.default.PropTypes.object, // CSS styles to apply when drop will be rejected\n\t  className: _react2.default.PropTypes.string, // Optional className\n\t  activeClassName: _react2.default.PropTypes.string, // className for accepted state\n\t  rejectClassName: _react2.default.PropTypes.string, // className for rejected state\n\t\n\t  disablePreview: _react2.default.PropTypes.bool, // Enable/disable preview generation\n\t  disableClick: _react2.default.PropTypes.bool, // Disallow clicking on the dropzone container to open file dialog\n\t\n\t  inputProps: _react2.default.PropTypes.object, // Pass additional attributes to the <input type=\"file\"/> tag\n\t  multiple: _react2.default.PropTypes.bool, // Allow dropping multiple files\n\t  accept: _react2.default.PropTypes.string, // Allow specific types of files. See https://github.com/okonet/attr-accept for more information\n\t  name: _react2.default.PropTypes.string // name attribute for the input tag\n\t};\n\t\n\texports.default = Dropzone;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports=function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={exports:{},id:e,loaded:!1};return t[e].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={};return n.m=t,n.c=r,n.p=\"\",n(0)}([function(t,n,r){\"use strict\";n.__esModule=!0,r(8),r(9),n[\"default\"]=function(t,n){if(t&&n){var r=function(){var r=n.split(\",\"),e=t.name||\"\",o=t.type||\"\",i=o.replace(/\\/.*$/,\"\");return{v:r.some(function(t){var n=t.trim();return\".\"===n.charAt(0)?e.toLowerCase().endsWith(n.toLowerCase()):/\\/\\*$/.test(n)?i===n.replace(/\\/.*$/,\"\"):o===n})}}();if(\"object\"==typeof r)return r.v}return!0},t.exports=n[\"default\"]},function(t,n){var r=t.exports={version:\"1.2.2\"};\"number\"==typeof __e&&(__e=r)},function(t,n){var r=t.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=r)},function(t,n,r){var e=r(2),o=r(1),i=r(4),u=r(19),c=\"prototype\",f=function(t,n){return function(){return t.apply(n,arguments)}},s=function(t,n,r){var a,p,l,d,y=t&s.G,h=t&s.P,v=y?e:t&s.S?e[n]||(e[n]={}):(e[n]||{})[c],x=y?o:o[n]||(o[n]={});y&&(r=n);for(a in r)p=!(t&s.F)&&v&&a in v,l=(p?v:r)[a],d=t&s.B&&p?f(l,e):h&&\"function\"==typeof l?f(Function.call,l):l,v&&!p&&u(v,a,l),x[a]!=l&&i(x,a,d),h&&((x[c]||(x[c]={}))[a]=l)};e.core=o,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,t.exports=s},function(t,n,r){var e=r(5),o=r(18);t.exports=r(22)?function(t,n,r){return e.setDesc(t,n,o(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n){var r=Object;t.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},function(t,n){var r=0,e=Math.random();t.exports=function(t){return\"Symbol(\".concat(void 0===t?\"\":t,\")_\",(++r+e).toString(36))}},function(t,n,r){var e=r(20)(\"wks\"),o=r(2).Symbol;t.exports=function(t){return e[t]||(e[t]=o&&o[t]||(o||r(6))(\"Symbol.\"+t))}},function(t,n,r){r(26),t.exports=r(1).Array.some},function(t,n,r){r(25),t.exports=r(1).String.endsWith},function(t,n){t.exports=function(t){if(\"function\"!=typeof t)throw TypeError(t+\" is not a function!\");return t}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n,r){var e=r(10);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,o){return t.call(n,r,e,o)}}return function(){return t.apply(n,arguments)}}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError(\"Can't call method on  \"+t);return t}},function(t,n,r){t.exports=function(t){var n=/./;try{\"/./\"[t](n)}catch(e){try{return n[r(7)(\"match\")]=!1,!\"/./\"[t](n)}catch(o){}}return!0}},function(t,n){t.exports=function(t){try{return!!t()}catch(n){return!0}}},function(t,n){t.exports=function(t){return\"object\"==typeof t?null!==t:\"function\"==typeof t}},function(t,n,r){var e=r(16),o=r(11),i=r(7)(\"match\");t.exports=function(t){var n;return e(t)&&(void 0!==(n=t[i])?!!n:\"RegExp\"==o(t))}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n,r){var e=r(2),o=r(4),i=r(6)(\"src\"),u=\"toString\",c=Function[u],f=(\"\"+c).split(u);r(1).inspectSource=function(t){return c.call(t)},(t.exports=function(t,n,r,u){\"function\"==typeof r&&(o(r,i,t[n]?\"\"+t[n]:f.join(String(n))),\"name\"in r||(r.name=n)),t===e?t[n]=r:(u||delete t[n],o(t,n,r))})(Function.prototype,u,function(){return\"function\"==typeof this&&this[i]||c.call(this)})},function(t,n,r){var e=r(2),o=\"__core-js_shared__\",i=e[o]||(e[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,n,r){var e=r(17),o=r(13);t.exports=function(t,n,r){if(e(n))throw TypeError(\"String#\"+r+\" doesn't accept regex!\");return String(o(t))}},function(t,n,r){t.exports=!r(15)(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(23),o=Math.min;t.exports=function(t){return t>0?o(e(t),9007199254740991):0}},function(t,n,r){\"use strict\";var e=r(3),o=r(24),i=r(21),u=\"endsWith\",c=\"\"[u];e(e.P+e.F*r(14)(u),\"String\",{endsWith:function(t){var n=i(this,t,u),r=arguments,e=r.length>1?r[1]:void 0,f=o(n.length),s=void 0===e?f:Math.min(o(e),f),a=String(t);return c?c.call(n,a,s):n.slice(s-a.length,s)===a}})},function(t,n,r){var e=r(5),o=r(3),i=r(1).Array||Array,u={},c=function(t,n){e.each.call(t.split(\",\"),function(t){void 0==n&&t in i?u[t]=i[t]:t in[]&&(u[t]=r(12)(Function.call,[][t],n))})};c(\"pop,reverse,shift,keys,values,entries\",1),c(\"indexOf,every,some,forEach,map,filter,find,findIndex,includes\",3),c(\"join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill\"),o(o.S,\"Array\",u)}]);\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=index.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react-dropzone/dist/index.js\n ** module id = 603\n ** module chunks = 2\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true,\\\"modules\\\":true,\\\"localIdentName\\\":\\\"[name]_[local]_[hash:base64:3]\\\",\\\"minimize\\\":false}!./../../../node_modules/postcss-loader/index.js!./styles.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true,\\\"modules\\\":true,\\\"localIdentName\\\":\\\"[name]_[local]_[hash:base64:3]\\\",\\\"minimize\\\":false}!./../../../node_modules/postcss-loader/index.js!./styles.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true,\\\"modules\\\":true,\\\"localIdentName\\\":\\\"[name]_[local]_[hash:base64:3]\\\",\\\"minimize\\\":false}!./../../../node_modules/postcss-loader/index.js!./styles.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./pages/home/sharedMatting/styles.css\n ** module id = 726\n ** module chunks = 2\n **/","module.exports = \"#ifdef GL_ES\\nprecision mediump float;\\n#endif\\n\\nuniform sampler2D state;\\nuniform vec2 scale;\\nuniform vec2 offset;\\n\\n\\nvoid main() {\\n    if (gl_FragCoord.y < offset.y || gl_FragCoord.x < offset.x\\n      || gl_FragCoord.y > scale.y - offset.y || gl_FragCoord.x > scale.x - offset.x) {\\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\\n    }\\n    else {\\n        vec2 coord = vec2((gl_FragCoord.x - offset.x)/(scale.x - 2.0*offset.x),\\n          1.0 - (gl_FragCoord.y - offset.y)/(scale.y - 2.0*offset.y));\\n        gl_FragColor = texture2D(state, coord);\\n    }\\n}\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./pages/home/sharedMatting/shaders/drawCanvas.frag.glsl\n ** module id = 739\n ** module chunks = 2\n **/","module.exports = \"#ifdef GL_ES\\nprecision mediump float;\\n#endif\\n\\nuniform sampler2D oriState;\\nuniform sampler2D triState;\\nuniform vec2 scale;\\nuniform float kC;\\n\\nvec3 getOri() {\\n  vec4 color = texture2D(oriState, (gl_FragCoord.xy) / scale);\\n  return color.xyz;\\n}\\n\\nvec3 getOri(vec2 coord) {\\n  vec4 color = texture2D(oriState, coord);\\n  return color.xyz;\\n}\\n\\nvec3 getTri() {\\n  vec4 color = texture2D(triState, (gl_FragCoord.xy) / scale);\\n  return color.xyz;\\n}\\n\\nvec4 getTri(vec2 coord) {\\n  return texture2D(triState, coord);\\n}\\n\\nvoid main() {\\n  float tri = getTri().x;\\n  gl_FragColor = texture2D(triState, (gl_FragCoord.xy) / scale);\\n\\n  // unknown region\\n  if (tri > 0.0 && tri < 1.0) {\\n    float x = gl_FragCoord.x,\\n      y = gl_FragCoord.y;\\n\\n    const float kI = float( %%kI%% );\\n\\n    vec3 curColor = getOri();\\n    for (float i = -kI; i < kI; i += 1.0) {\\n      for (float j = -kI; j < kI; j += 1.0) {\\n        float w = gl_FragCoord.x + i;\\n        float h = gl_FragCoord.y + j;\\n        if (w > 0.0 && w < scale.x\\n          && h > 0.0 && h < scale.y) {\\n            vec2 coord = vec2(w, h);\\n            vec3 color = getOri(coord / scale);\\n            vec4 triColor = getTri(coord / scale);\\n            if ((triColor.x == 0.0 || triColor.x == 1.0)\\n              && distance(coord, gl_FragCoord.xy) < kI\\n              && distance(color, curColor) < kC) {\\n                gl_FragColor = triColor;\\n              }\\n            }\\n      }\\n    }\\n  }\\n\\n}\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./pages/home/sharedMatting/shaders/expandKnown.frag.glsl\n ** module id = 740\n ** module chunks = 2\n **/","module.exports = \"#extension GL_EXT_draw_buffers : require\\n#ifdef GL_ES\\nprecision mediump float;\\n#endif\\n\\n#define i0_  0\\n#define i1_  1\\n#define i2_  2\\n#define i3_  3\\n\\nuniform sampler2D oriState;\\nuniform sampler2D triState;\\nuniform int isTest;\\nuniform vec2 scale;\\nuniform int kG;\\n\\nvec2 FSamples[%%kG%%];\\nvec2 BSamples[%%kG%%];\\n\\nstruct FBPair {\\n  vec3 F;\\n  vec3 B;\\n  vec2 FCoord;\\n  vec2 BCoord;\\n};\\n\\nvec2 arrIdx(int which, int idx) {\\n  vec2 res;\\n  if (which == 0) {\\n    if (idx == 0) { res = FSamples[i0_]; }\\n    else if (idx == 1) { res = FSamples[i1_]; }\\n    else if (idx == 2) { res = FSamples[i2_]; }\\n    else if (idx == 3) { res = FSamples[i3_]; }\\n  }\\n  else if (which == 1) {\\n    if (idx == 0) { res = BSamples[i0_]; }\\n    else if (idx == 1) { res = BSamples[i1_]; }\\n    else if (idx == 2) { res = BSamples[i2_]; }\\n    else if (idx == 3) { res = BSamples[i3_]; }\\n  }\\n\\n  return res;\\n}\\n\\nvoid arrIdx(int which, int idx, vec2 value) {\\n  if (which == 0) {\\n    if (idx == 0) { FSamples[i0_] = value; }\\n    else if (idx == 1) { FSamples[i1_] = value; }\\n    else if (idx == 2) { FSamples[i2_] = value; }\\n    else if (idx == 3) { FSamples[i3_] = value; }\\n  }\\n  else if (which == 1) {\\n    if (idx == 0) { BSamples[i0_] = value; }\\n    else if (idx == 1) { BSamples[i1_] = value; }\\n    else if (idx == 2) { BSamples[i2_] = value; }\\n    else if (idx == 3) { BSamples[i3_] = value; }\\n  }\\n}\\n\\nvec3 getOri() {\\n  vec4 color = texture2D(oriState, (gl_FragCoord.xy) / scale);\\n  return color.xyz;\\n}\\n\\nvec3 getOri(vec2 coord) {\\n  vec4 color = texture2D(oriState, coord);\\n  return color.xyz;\\n}\\n\\nvec3 getTri() {\\n  vec4 color = texture2D(triState, (gl_FragCoord.xy) / scale);\\n  return color.xyz;\\n}\\n\\nvec3 getTri(vec2 coord) {\\n  return texture2D(triState, coord).xyz;\\n}\\n\\nvoid sample() {\\n  int fIdx = 0, bIdx = 0;\\n  float x = gl_FragCoord.x,\\n    y = gl_FragCoord.y;\\n\\n  float inc = 360.0 / float(kG);\\n  float ca = inc / 9.0;\\n  float angle = (x + y) * ca;\\n  for (int k = 0; k < %%kG%%; k ++) {\\n    bool flagF = false;\\n    bool flagB = false;\\n\\n    float z  = (angle + float(k) * inc) / 180.0 * 3.1415926;\\n    float ex = sin(z);\\n    float ey = cos(z);\\n    float step = min(1.0 / (abs(ex) + 1e-10), 1.0 / (abs(ey) + 1e-10));\\n\\n    for (int i = 0; i < %%searchRange%%; i ++) {\\n      float t = step * float(i);\\n      float tx = x + ex * t,\\n        ty = y + ey * t;\\n\\n      if (tx > 0.0 && tx < scale.x\\n        && ty > 0.0 && ty < scale.y\\n        && (!flagF || !flagB) ) {\\n          vec2 coord = vec2(tx, ty) / scale;\\n          float triColor = getTri(coord).x;\\n          if (!flagF && triColor == 1.0) {\\n            arrIdx(0, fIdx++, coord);\\n            flagF = true;\\n          }\\n          else if (!flagB && triColor == 0.0) {\\n            arrIdx(1, bIdx++, coord);\\n            flagB = true;\\n          }\\n        }\\n    }\\n  }\\n  for (int i = 0; i < %%kG%%; i ++) {\\n    if (i >= fIdx) {\\n      arrIdx(0, i, vec2(-1.0, -1.0));\\n      // arrIdx(0, i, gl_FragCoord.xy / scale);\\n    }\\n  }\\n  for (int i = 0; i < %%kG%%; i ++) {\\n    if (i >= bIdx) {\\n      arrIdx(1, i, vec2(-1.0, -1.0));\\n      // arrIdx(1, i, gl_FragCoord.xy / scale);\\n    }\\n  }\\n  // FSamples[0] = gl_FragCoord.xy / scale;\\n  // arrIdx(0, 0, gl_FragCoord.xy / scale);\\n}\\n\\n\\nfloat e_p(vec2 coord) {\\n  float lx = coord.x * scale.x - gl_FragCoord.x,\\n    ly = coord.y * scale.y - gl_FragCoord.y,\\n    l = length(vec2(lx, ly));\\n\\n  float ex = lx / (l + 1e-10),\\n    ey = ly / (l + 1e-10),\\n    step = min(1.0/(abs(ex) + 1e-10), 1.0/(abs(ey) + 1e-10)),\\n    res = 0.0;\\n  vec3 color = getOri();\\n\\n  for (int i = 0; i < %%searchRange%%; i ++) {\\n    float t = step * float(i);\\n    if (t < l) {\\n      float x = gl_FragCoord.x + t * ex,\\n        y = gl_FragCoord.y + t * ey;\\n      vec2 coord = vec2(x, y) / scale;\\n      vec3 color_ = getOri(coord);\\n      float d = distance(color, color_);\\n      res += d * d;\\n    }\\n  }\\n  return res;\\n}\\n\\nfloat pf_p() {\\n  float fMin = 1e10,\\n    bMin = 1e10;\\n  for (int i = 0; i < %%kG%%; i ++) {\\n    float f = e_p(arrIdx(0, i)),\\n      b = e_p(arrIdx(1, i));\\n    if (f < fMin) {\\n      fMin = f;\\n    }\\n    if (b < bMin) {\\n      bMin = b;\\n    }\\n  }\\n\\n  return bMin / (fMin + bMin + 1e-10);\\n}\\n\\nfloat estimAlpha(vec3 color, vec3 fColor, vec3 bColor) {\\n  float d = distance(fColor, bColor);\\n  return dot((color - bColor), (fColor - bColor)) / (d * d);\\n}\\n\\nfloat a_p(vec2 FCoord, vec2 BCoord, float pfp) {\\n  vec3 color = getOri();\\n  float alpha = estimAlpha(color, getOri(FCoord), getOri(BCoord));\\n\\n  return pfp + (1.0 - 2.0 * pfp) * alpha;\\n}\\n\\nfloat d_p(vec2 coord) {\\n  return distance(gl_FragCoord.xy, coord);\\n}\\n\\nfloat m_p(vec2 coord, vec2 FCoord, vec2 BCoord) {\\n  vec3 color = getOri(coord),\\n    fColor = getOri(FCoord),\\n    bColor = getOri(BCoord);\\n  float alpha = estimAlpha(color, fColor, bColor);\\n  return length(color - alpha * fColor - (1.0 - alpha) * bColor);\\n}\\n\\nfloat n_p(vec2 FCoord, vec2 BCoord) {\\n  float res = 0.0;\\n  for (int i = -1; i < 2; i ++) {\\n    for (int j = -1; j < 2; j ++) {\\n      float m = m_p((gl_FragCoord.xy + vec2(float(i), float(j)))/scale, FCoord, BCoord);\\n      res += m * m;\\n    }\\n  }\\n\\n  return res;\\n}\\n\\nfloat g_p(vec2 FCoord, vec2 BCoord, float pfp) {\\n  float np = pow(n_p(FCoord, BCoord), 3.0),\\n    ap = pow(a_p(FCoord, BCoord, pfp), 2.0),\\n    dpf = d_p(FCoord),\\n    dpb = pow(d_p(BCoord), 4.0);\\n\\n  return np * ap * dpf * dpb;\\n}\\n\\nFBPair gathering() {\\n  float gpMin = 1.0e10;\\n  float pfp = pf_p();\\n  int idxI = 0, idxJ = 0;\\n  for (int i = 0; i < %%kG%%; i ++) {\\n    for (int j = 0; j < %%kG%%; j ++) {\\n      vec2 fs = arrIdx(0, i),\\n        bs = arrIdx(1, j);\\n      if (fs.x != -1.0 && bs.x != -1.0) {\\n        float gp = g_p(fs, bs, pfp);\\n        if (gp < gpMin) {\\n          gpMin = gp;\\n          idxI = i;\\n          idxJ = j;\\n        }\\n      }\\n    }\\n  }\\n\\n  FBPair p;\\n  p.FCoord = arrIdx(0,idxI); p.BCoord = arrIdx(1,idxJ);\\n  p.F = getOri(p.FCoord); p.B = getOri(p.BCoord);\\n\\n  return p;\\n}\\n\\nvoid testAlpha() {\\n  if (getTri().x > 0.0 && getTri().x < 1.0) {\\n    sample();\\n    FBPair p = gathering();\\n    float alpha = estimAlpha(getOri(), p.F, p.B);\\n    // float alpha = estimAlpha(getOri(), getOri(FSamples[3]), getOri(BSamples[3]));\\n    gl_FragColor = vec4(alpha, alpha, alpha, 1.0);\\n    // gl_FragData[0] = vec4(p.F, 1.0);\\n    // gl_FragColor = vec4(alpha, alpha, alpha, 1.0);\\n  }\\n  else {\\n    gl_FragColor = vec4(getTri(), 1.0);\\n    // gl_FragData[0] = vec4(0.0, 0.0, 0.0, 1.0);\\n    // gl_FragColor = vec4(getTri(), 1.0);\\n  }\\n}\\n\\nvoid writeFB() {\\n  if (getTri().x > 0.0 && getTri().x < 1.0) {\\n    vec2 FSamples[%%kG%%];\\n    vec2 BSamples[%%kG%%];\\n    sample();\\n    FBPair p = gathering();\\n    // F B component\\n    gl_FragColor = vec4(p.FCoord, p.BCoord);\\n  }\\n  else {\\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\\n  }\\n}\\n\\nvoid main() {\\n  if (isTest == 0) {\\n    writeFB();\\n  }\\n  else {\\n    testAlpha();\\n  }\\n}\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./pages/home/sharedMatting/shaders/gathering.frag.glsl\n ** module id = 741\n ** module chunks = 2\n **/","module.exports = \"#ifdef GL_ES\\nprecision mediump float;\\n#endif\\n\\nuniform sampler2D oriState;\\nuniform sampler2D triState;\\nuniform sampler2D foreState;\\nuniform sampler2D backState;\\nuniform sampler2D acState;\\nuniform vec2 scale;\\n\\nvec3 getOri() {\\n  vec4 color = texture2D(oriState, (gl_FragCoord.xy) / scale);\\n  return color.xyz;\\n}\\n\\nvec3 getOri(vec2 coord) {\\n  vec4 color = texture2D(oriState, coord);\\n  return color.xyz;\\n}\\n\\nvec3 getTri() {\\n  vec4 color = texture2D(triState, (gl_FragCoord.xy) / scale);\\n  return color.xyz;\\n}\\n\\nvec3 getTri(vec2 coord) {\\n  return texture2D(triState, coord).xyz;\\n}\\n\\nfloat getAlpha(vec2 coord) {\\n  return texture2D(acState, coord).x;\\n}\\n\\nfloat getConfidence(vec2 coord) {\\n  return texture2D(acState, coord).y;\\n}\\n\\nvec3 getFore(vec2 coord) {\\n  return texture2D(foreState, coord).xyz;\\n}\\n\\nvec3 getBack(vec2 coord) {\\n  return texture2D(backState, coord).xyz;\\n}\\n\\nfloat estimAlpha(vec3 color, vec3 fColor, vec3 bColor) {\\n  float d = distance(fColor, bColor);\\n  return dot((color - bColor), (fColor - bColor)) / (d * d);\\n}\\n\\nfloat m_p(vec2 coord, vec3 fColor, vec3 bColor) {\\n  vec3 color = getOri(coord);\\n  float alpha = estimAlpha(color, fColor, bColor);\\n  return length(color - alpha * fColor - (1.0 - alpha) * bColor);\\n}\\n\\nfloat smooth() {\\n  float sigma2 = 100.0 / (9.0 * 3.1415926);\\n  vec3 accumWcUpF = vec3(0.0, 0.0, 0.0), accumWcUpB = vec3(0.0, 0.0, 0.0);\\n  float accumWcDownF = 0.0, accumWcDownB = 0.0;\\n  float accumWfbUp = 0.0, accumWfbDown = 0.0;\\n  float confidence00 = getConfidence(gl_FragCoord.xy / scale);\\n  float alpha00 = getAlpha(gl_FragCoord.xy / scale);\\n  float accumWaUp = 0.0, accumWaDown = 0.0;\\n  for (int i = -10; i < 11; i ++) {\\n    for (int j = -10; j < 11; j ++) {\\n      vec2 offset = vec2(float(i), float(j));\\n      vec2 coord = (gl_FragCoord.xy + offset) / scale;\\n      float d = distance(offset, vec2(0.0, 0.0));\\n      if (coord.x > 0.0 && coord.x < 1.0\\n          && coord.y > 0.0 && coord.y < 1.0\\n          && d <= 3.0 * sigma2) {\\n        // aqr\\n        float alpha = getAlpha(coord),\\n        // fqr\\n          confidence = getConfidence(coord);\\n        float g = exp(- d*d / 2.0 / sigma2);\\n        float wc = 0.0;\\n        if (i == 0 && j == 0) {\\n          wc = g * confidence;\\n        }\\n        else {\\n          wc = g * confidence * abs(alpha - alpha00);\\n        }\\n        vec3 foreColor = getFore(coord),\\n          backColor = getBack(coord);\\n        float wca = wc * alpha;\\n        accumWcUpF += wca * foreColor;\\n        accumWcUpB += (wc - wca) * backColor;\\n        accumWcDownF += wc * alpha;\\n        accumWcDownB += wc - wca;\\n\\n        float wfbq = confidence * alpha * (1.0 - alpha);\\n        accumWfbUp += wfbq * distance(foreColor, backColor);\\n        accumWfbDown += wfbq;\\n\\n        float theta = 0.0;\\n        if (getTri(coord).x == 0.0 || getTri(coord).x == 1.0) {\\n          theta = 1.0;\\n        }\\n        float wa = confidence * g + theta;\\n        accumWaUp += wa * alpha;\\n        accumWaDown += wa;\\n      }\\n    }\\n  }\\n  vec3 fp = accumWcUpF / (accumWcDownF + 1e-10),\\n    bp = accumWcUpB / (accumWcDownB + 1e-10);\\n  float dfb = accumWfbUp / (accumWfbDown + 1e-10);\\n  float confidenceP = min(1.0, distance(fp, bp) / dfb) * exp(-10.0 * m_p(gl_FragCoord.xy/scale, fp, bp));\\n  float alphaP = accumWaUp / (accumWaDown + 1e-10);\\n  alphaP = max(0.0, min(1.0, alphaP));\\n  float alphaFinal = confidenceP * estimAlpha(getOri(), fp, bp) + (1.0 - confidenceP) * alphaP;\\n\\n  return alphaFinal;\\n}\\n\\nvoid getAlpha() {\\n  if (getTri().x == 0.0 || getTri().x == 1.0) {\\n    gl_FragColor = vec4(getTri(), 1.0);\\n  }\\n  else {\\n    float alpha = smooth();\\n    gl_FragColor = vec4(alpha, alpha, alpha, 1.0);\\n    // gl_FragColor = vec4(getBack(gl_FragCoord.xy / scale), 1.0);\\n  }\\n  // gl_FragColor = vec4(getBack(gl_FragCoord.xy / scale), 1.0);\\n}\\n\\nvoid main() {\\n  getAlpha();\\n}\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./pages/home/sharedMatting/shaders/localSmooth.frag.glsl\n ** module id = 742\n ** module chunks = 2\n **/","module.exports = \"#ifdef GL_ES\\nprecision mediump float;\\n#endif\\n\\nattribute vec2 quad;\\n\\nvoid main() {\\n    gl_Position = vec4(quad, 0, 1.0);\\n}\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./pages/home/sharedMatting/shaders/quad.vert.glsl\n ** module id = 743\n ** module chunks = 2\n **/","module.exports = \"#extension GL_EXT_draw_buffers : require\\n#ifdef GL_ES\\nprecision mediump float;\\n#endif\\n\\nuniform sampler2D oriState;\\nuniform sampler2D triState;\\nuniform sampler2D fbState;\\nuniform sampler2D fbSigmaState;\\nuniform vec2 scale;\\nuniform int isTest;\\n\\nstruct point {\\n  float x;\\n  float y;\\n  float mp;\\n};\\n\\nstruct rTuple {\\n  vec3 fColor;\\n  vec3 bColor;\\n  float alpha;\\n  float confidence;\\n};\\n\\nvec3 getOri() {\\n  vec4 color = texture2D(oriState, (gl_FragCoord.xy) / scale);\\n  return color.xyz;\\n}\\n\\nvec3 getOri(vec2 coord) {\\n  vec4 color = texture2D(oriState, coord);\\n  return color.xyz;\\n}\\n\\nvec3 getTri() {\\n  vec4 color = texture2D(triState, (gl_FragCoord.xy) / scale);\\n  return color.xyz;\\n}\\n\\nvec3 getTri(vec2 coord) {\\n  return texture2D(triState, coord).xyz;\\n}\\n\\nvec2 getFCoord() {\\n  return texture2D(fbState, (gl_FragCoord.xy) / scale).xy;\\n}\\n\\nvec2 getBCoord() {\\n  return texture2D(fbState, (gl_FragCoord.xy) / scale).zw;\\n}\\n\\nvec2 getFCoord(vec2 coord) {\\n  return texture2D(fbState, coord).xy;\\n}\\n\\nvec2 getBCoord(vec2 coord) {\\n  return texture2D(fbState, coord).zw;\\n}\\n\\nfloat getFSigma() {\\n  return texture2D(fbSigmaState, (gl_FragCoord.xy) / scale).x;\\n}\\n\\nfloat getBSigma() {\\n  return texture2D(fbSigmaState, (gl_FragCoord.xy) / scale).y;\\n}\\n\\nfloat getFSigma(vec2 coord) {\\n  return texture2D(fbSigmaState, coord).x;\\n}\\n\\nfloat getBSigma(vec2 coord) {\\n  return texture2D(fbSigmaState, coord).y;\\n}\\n\\nfloat estimAlpha(vec3 color, vec3 fColor, vec3 bColor) {\\n  float d = distance(fColor, bColor);\\n  return dot((color - bColor), (fColor - bColor)) / (d * d);\\n}\\n\\nfloat m_p(vec2 coord, vec3 fColor, vec3 bColor) {\\n  vec3 color = getOri(coord);\\n  float alpha = estimAlpha(color, fColor, bColor);\\n  return length(color - alpha * fColor - (1.0 - alpha) * bColor);\\n}\\n\\nfloat m_p(vec3 color, vec3 fColor, vec3 bColor) {\\n  float alpha = estimAlpha(color, fColor, bColor);\\n  return length(color - alpha * fColor - (1.0 - alpha) * bColor);\\n}\\n\\nfloat sigma2(vec2 coord) {\\n  float res = 0.0;\\n  int neiCount = 0;\\n  vec3 color = getOri(coord);\\n  for (int i = -2; i < 3; i ++) {\\n    for (int j = -2; j < 3; j ++) {\\n      float xn = coord.x + (float(i) / scale.x),\\n        yn = coord.y + (float(j) / scale.y);\\n      if (xn > 0.0 && xn < 1.0\\n        && yn > 0.0 && yn < 1.0) {\\n          vec3 colorn = getOri(vec2(xn, yn));\\n          float d = distance(colorn, color);\\n          res += d * d;\\n          neiCount ++;\\n        }\\n    }\\n  }\\n  return res / (float(neiCount) + 1e-10);\\n}\\n\\nrTuple refine() {\\n  int count = 0;\\n  point minMp0, minMp1, minMp2;\\n  minMp0.mp = 1e10; minMp1.mp = 1e10; minMp2.mp = 1e10;\\n  for (int i = -5; i < 6; i ++) {\\n    for (int j = -5; j < 6; j ++) {\\n      float x = gl_FragCoord.x + float(i),\\n        y = gl_FragCoord.y + float(j);\\n      vec2 coord = vec2(x, y) / scale;\\n\\n      if (x > 0.0 && x < scale.x\\n        && y > 0.0 && y < scale.y\\n        && getTri(coord).x > 0.0 &&  getTri(coord).x < 1.0) {\\n\\n          vec3 fColor = getOri(getFCoord(coord));\\n          vec3 bColor = getOri(getBCoord(coord));\\n          float mp = m_p(coord, fColor, bColor);\\n          if (mp < minMp0.mp) {\\n            minMp2 = minMp1;\\n            minMp1 = minMp0;\\n            // minMp2.x = minMp1.x;\\n            // minMp2.y = minMp1.y;\\n            // minMp2.mp = minMp1.mp;\\n            // minMp1.x = minMp0.x;\\n            // minMp1.y = minMp0.y;\\n            // minMp1.mp = minMp0.mp;\\n\\n            minMp0.x = coord.x;\\n            minMp0.y = coord.y;\\n            minMp0.mp = mp;\\n            count ++;\\n          }\\n          else if (mp < minMp1.mp) {\\n            minMp2 = minMp1;\\n            // minMp2.x = minMp1.x;\\n            // minMp2.y = minMp1.y;\\n            // minMp2.mp = minMp1.mp;\\n\\n            minMp1.x = coord.x;\\n            minMp1.y = coord.y;\\n            minMp1.mp = mp;\\n            count ++;\\n          }\\n          else if (mp < minMp2.mp) {\\n            minMp2.x = coord.x;\\n            minMp2.y = coord.y;\\n            minMp2.mp = mp;\\n            count ++;\\n          }\\n        }\\n    }\\n  }\\n\\n  // count must > 0 because self is included\\n  count = count > 3 ? 3 : count;\\n\\n  vec2 coord = vec2(minMp0.x, minMp0.y);\\n  vec2 fCoord = getFCoord(coord),\\n    bCoord = getBCoord(coord);\\n  vec3 fg = getOri(fCoord),\\n    bg = getOri(bCoord);\\n  float sf = sigma2(fCoord),\\n    sb = sigma2(bCoord);\\n\\n  if (count > 1) {\\n    coord = vec2(minMp1.x, minMp1.y);\\n    fCoord = getFCoord(coord);\\n    bCoord = getBCoord(coord);\\n    fg += getOri(fCoord);\\n    bg += getOri(bCoord);\\n    sf += sigma2(fCoord);\\n    sb += sigma2(bCoord);\\n  }\\n  if (count > 2) {\\n    coord = vec2(minMp2.x, minMp2.y);\\n    fCoord = getFCoord(coord);\\n    bCoord = getBCoord(coord);\\n    fg += getOri(fCoord);\\n    bg += getOri(bCoord);\\n    sf += sigma2(fCoord);\\n    sb += sigma2(bCoord);\\n  }\\n  fg = fg / float(count);\\n  bg = bg / float(count);\\n  sf = sf / float(count);\\n  sb = sb / float(count);\\n\\n  vec3 color = getOri();\\n  rTuple r;\\n  float d = distance(color, fg);\\n  float df = d * d;\\n  d = distance(color, bg);\\n  float db = d * d;\\n\\n  if (df < sf) { r.fColor = color; }\\n  else { r.fColor = fg; }\\n  if (db < sb) { r.bColor = color; }\\n  else { r.bColor = bg; }\\n\\n  if (r.fColor != r.bColor) { r.confidence = exp(-10.0 * m_p(color, fg, bg)); }\\n  else { r.confidence = 1e-8; }\\n  r.alpha = max(0.0, min(1.0, estimAlpha(color, r.fColor, r.bColor)));\\n  // r.alpha = estimAlpha(color, fg, bg);\\n  // r.alpha = estimAlpha(getOri(), getOri(getFCoord()), getOri(getBCoord()));\\n\\n  return r;\\n}\\n\\nvoid writeFB() {\\n  float triColor = getTri().x;\\n  if (triColor == 0.0 || triColor == 1.0) {\\n    // fore color texture\\n    gl_FragData[0] = vec4(getOri(), 1.0);\\n    // back color texture\\n    gl_FragData[1] = vec4(getOri(), 1.0);\\n    // alpha and confidence\\n    gl_FragData[2] = vec4(triColor, 1.0, 1.0, 1.0);\\n  }\\n  else {\\n    rTuple r = refine();\\n    // fore color texture\\n    gl_FragData[0] = vec4(r.fColor, 1.0);\\n    // back color texture\\n    gl_FragData[1] = vec4(r.bColor, 1.0);\\n    // alpha and confidence\\n    gl_FragData[2] = vec4(r.alpha, r.confidence, 1.0, 1.0);\\n  }\\n}\\n\\nvoid testAlpha() {\\n  float triColor = getTri().x;\\n  if (triColor == 0.0 || triColor == 1.0) {\\n    gl_FragData[0] = vec4(getTri(), 1.0);\\n  }\\n  else {\\n    rTuple r = refine();\\n    // gl_FragData[0] = vec4(getOri(getBCoord()), 1.0);\\n    // gl_FragData[0] = vec4(r.fColor, 1.0);\\n    // float s = sigma2(getBCoord());\\n    // gl_FragData[0] = vec4(s, s, s, 1.0);\\n    gl_FragData[0] = vec4(r.alpha, r.alpha, r.alpha, 1.0);\\n  }\\n}\\n\\nvoid main() {\\n  if (isTest == 0) {\\n    writeFB();\\n  }\\n  else {\\n    testAlpha();\\n  }\\n}\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./pages/home/sharedMatting/shaders/refinement.frag.glsl\n ** module id = 744\n ** module chunks = 2\n **/"],"sourceRoot":""}